#include <ros.h>
#include "std_msgs/Int8MultiArray.h"

ros::NodeHandle n;

std_msgs::Int8MultiArray array;
ros::Publisher chatter("relay", array);

const int button_pin = 2;
const int button_pin1 = 3;
const int button_pin2 = 4;

void setup() {
  
  pinMode(button_pin,INPUT_PULLUP);
  pinMode(button_pin1,INPUT_PULLUP);
  pinMode(button_pin2,INPUT_PULLUP);
  n.initNode();
  n.advertise(chatter);
 
}

void loop(){

  array.data.push_back(digitalRead(button_pin));
  array.data.push_back(digitalRead(button_pin1));
  array.data.push_back(digitalRead(button_pin2));  
  chatter.publish(array);
  array.data.clear();
  n.spinOnce();
  delay(10);

}
